<head>
  <title>babble IM: watch-as-i-type chat</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
</head>

<body>
  <div id="container">
    {{> login}}
    {{> chat}}
  </div>
</body>

<template name="login">
  <div id="login" class={{class_visible}}>
    <div class="name">
      <span class="label">My name is</span>
      <span class="input"><input type="text"></input></span>
    </div>
		<div class="buttons {{class_buttons_visible}}">
			<div class="label">and I want a</div>
      <span class="button-container">
        <button class="public">Public Chat</button>
      </span>
      <span class="button-container">
        <button class="private">Private Chat</button>
      </span>
		</div>
  </div>
</template>

<template name="chat">
  <div id="chat" class={{class_visible}}>
    {{#each messages}}
      {{> message}} 
    {{/each}}
  </div>
</template>

<template name="message">
  <div
    class="message
      {{class_incomplete}}
      {{class_empty}}
      {{class_side}}
      {{class_color}}"
    id="{{id_editable}}">
    <div class="name">{{name}}</div>
    <div class="content">
      {{#if editable}}
      <textarea class="text" id="input-{{_id}}">{{text}}</textarea>
      {{else}}
        <span class="text">{{text}}</span>
      {{/if}}
    </div>
    <div class="time">
      {{#if incomplete}}
        started at
      {{else}}
        sent at
      {{/if}}
      {{timestamp}}
    </div>
  </div>
</template>
