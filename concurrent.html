<head>
  <title>concurrent: real-time chat</title>
</head>

<body>
  <div id="container">
    {{> chat}}
  </div>
</body>

<template name="chat">
  <div id="chat">
    {{#each messages}}
      {{> message}} 
    {{/each}}
  </div>
</template>

<template name="message">
  <div class="message{{class_incomplete}}{{class_side}}{{class_color}}" id="{{id_editable}}">
    <div class="name">{{name}}</div>
    <div class="content">
      {{#if editable}}
      <textarea class="text" id="input-{{_id}}">{{text}}</textarea>
      {{else}}
        <span class="text">{{text}}</span>
      {{/if}}
    </div>
    <div class="time">{{time}}</div>
  </div>
</template>
